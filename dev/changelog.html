
<!DOCTYPE html>


<html lang="en" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>What’s new &#8212; HydroMT SFINCS  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=c5ced968eda925caa686" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=c5ced968eda925caa686" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=c5ced968eda925caa686" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=c5ced968eda925caa686" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="_static/theme-deltares.css?v=9d31670e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=c5ced968eda925caa686" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=c5ced968eda925caa686" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=c5ced968eda925caa686"></script>

    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'changelog';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Roadmap" href="dev_guide/roadmap.html" />
    <link rel="prev" title="Developments" href="dev_guide/intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
    
    <img src="_static/hydromt-icon.svg" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="_static/hydromt-icon.svg" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">HydroMT SFINCS</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="getting_started/intro.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="user_guide/intro.html">
                        User guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="dev_guide/intro.html">
                        Developments
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://deltares.github.io/hydromt/latest/index.html">
                    HydroMT core
                  </a>
                </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/hydromt_sfincs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" class="icon-link-image" alt="GitHub"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://sfincs.readthedocs.io/" title="SFINCS" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="_static/sfincs_logo_mHv_icon.ico" class="icon-link-image" alt="SFINCS"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="_static/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="getting_started/intro.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="user_guide/intro.html">
                        User guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="dev_guide/intro.html">
                        Developments
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://deltares.github.io/hydromt/latest/index.html">
                    HydroMT core
                  </a>
                </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/hydromt_sfincs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" class="icon-link-image" alt="GitHub"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://sfincs.readthedocs.io/" title="SFINCS" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="_static/sfincs_logo_mHv_icon.ico" class="icon-link-image" alt="SFINCS"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="_static/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">What’s new</a></li>






<li class="toctree-l1"><a class="reference internal" href="dev_guide/roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference external" href="https://deltares.github.io/hydromt/latest/dev/contributing">Developer's guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide/dev_install.html">Developer’s environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide/contributors.html">Contributors</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="dev_guide/intro.html" class="nav-link">Developments</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">What’s new</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="what-s-new">
<h1>What’s new<a class="headerlink" href="#what-s-new" title="Link to this heading">#</a></h1>
<p>All notable changes to this project will be documented in this page.
Distinction is made between new methods (Added), changes to existing methods (Changed), bugfixes (Fixed), deprecated methods (Deprecated) and removed methods (Removed).</p>
<p>The format is based on <a class="reference external" href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>, and this project adheres to
<a class="reference external" href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
</section>
<section id="v1-0-2-unreleased">
<h1>v1.0.2 (unreleased)<a class="headerlink" href="#v1-0-2-unreleased" title="Link to this heading">#</a></h1>
<section id="added">
<h2>Added<a class="headerlink" href="#added" title="Link to this heading">#</a></h2>
</section>
<section id="changed">
<h2>Changed<a class="headerlink" href="#changed" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Changed <cite>setup_cn_infiltration_with_kr</cite> into <cite>setup_cn_infiltration_with_ks</cite> since saturated hydraulic conductivity (ks) is used instead of recovery rate (kr) PR #126</p></li>
</ul>
</section>
<section id="fixed">
<h2>Fixed<a class="headerlink" href="#fixed" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>writing COG files in <cite>SfincsModel.setup_subgrid</cite> (the COG driver settings were wrong) PR #117</p></li>
<li><p>a constant offset in the <cite>datasets_dep</cite> argument to <cite>SfincsModel.setup_subgrid</cite> and <cite>SfincsModel.setup_dep</cite> was ignored PR #119</p></li>
<li><p>mismatch between gis data and the model grid causing issues while reading the model PR #128</p></li>
</ul>
</section>
<section id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Link to this heading">#</a></h2>
</section>
</section>
<section id="v1-0-1-3-august-2023">
<h1>v1.0.1 (3 August 2023)<a class="headerlink" href="#v1-0-1-3-august-2023" title="Link to this heading">#</a></h1>
<p>This release contains several new features, such as burning in river bathymetry into the subgrid, setting up drainage structures and adding wind and pressure forcing.
It also contains several bugfixes and improvements to existing methods.
It is recommended to use this release together with the latest version of the <a class="reference external" href="https://github.com/Deltares/SFINCS/releases/tag/v2.0.2_Blockhaus_release">SFINCS model</a>.</p>
<section id="id1">
<h2>Added<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><cite>SfincsModel.setup_cn_infiltration_with_kr</cite> to setup three layers related to the curve number
(maximum and effective infiltration capacity; seff and smax) and recovery rate (kr) PR #87</p></li>
<li><p><cite>SfincsModelsetup_drainage_structures</cite> to setup drainage structures (pumps,culverts) from a geodataframe. PR#90</p></li>
<li><p>Added <cite>SfincsModel.setup_wind_forcing</cite>, <cite>SfincsModel.setup_wind_forcing_from_grid</cite> and <cite>SfincsModel.setup_pressure_forcing_from_grid</cite> methods to easily add wind and pressure forcing.  PR #92</p></li>
<li><p><cite>SfincsModel.setup_observation_lines</cite> to setup model observation lines (cross-sections) to monitor discharges. PR #114</p></li>
</ul>
</section>
<section id="id2">
<h2>Changed<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><cite>SfincsModel.setup_subgrid</cite> now supports the ‘riv_datasets’ to burn in river bathymetry into the subgrid. PR #84</p></li>
<li><p><cite>SfincsModel.setup_mask_active</cite> argument reset_mask default to True PR #94</p></li>
<li><p><cite>SfincsModel.read_config</cite> allows to use a template input file from a directory different than the model root. PR #102</p></li>
<li><p>Added the option to use landuse/landcover data combined with a reclass table to <cite>SfincsModel.setup_constant_infiltration</cite>.  PR #103</p></li>
<li><p>Enabled to provide locations only (so no timeseries) for <cite>SfincsModel.setup_waterlevel_forcing</cite> and <cite>SfincsModel.setup_discharge_forcing</cite> PR #104</p></li>
<li><p>New optional buffer argument in  <cite>SfincsModel.setup_discharge_forcing</cite> to select gauges around boundary only. PR #104</p></li>
<li><p><cite>SfincsModel.plot_basemaps</cite> now supports other CRS than UTM zones. PR #111</p></li>
<li><p>New functionality within <cite>SfincsModel.setup_structures</cite> to use high resolution dem for weir elevation. PR #109</p></li>
<li><p>hydromt_data.yml is written to the model root directory with used data sources.</p></li>
</ul>
</section>
<section id="id3">
<h2>Fixed<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>bugfix in <cite>SfincsModel.write_forcing</cite> to ensure all NetCDF files are written instead of only the first one. PR #86</p></li>
<li><p>bugfix in <cite>SfincsModel.read_config</cite> &amp; <cite>SfincsInput.read</cite> for relative paths in inp file. PR #88</p></li>
<li><p>bugfix in <cite>SfincsModel.setup_subgrid</cite> to ensure that a ‘big geotiff’ will be written by default when ‘write_dep_tif’ or ‘write_man_tif’ are True</p></li>
<li><p>fix memory issues caused by rasterizing the model region and reprojecting before clipping of rasters. PR #94</p></li>
<li><p>bugfix in <cite>Sfincs.read_forcing</cite> when combining attributes from the locations stored in the gis folder with the actual forcing locations. PR #99</p></li>
<li><p>bugfix in <cite>SfincsModel.setup_discharge_from_grid</cite> when snapping based on upstream area in case a src points is outside of the uparea grid domain. PR #99</p></li>
</ul>
</section>
<section id="removed">
<h2>Removed<a class="headerlink" href="#removed" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><cite>burn_river_zb</cite> and <cite>get_river_bathymetry</cite> workflow methods have been deprecated in favor of <cite>burn_river_rect</cite>. PR #84</p></li>
</ul>
</section>
</section>
<section id="v1-0-17-april-2023">
<h1>v1.0 (17 April 2023)<a class="headerlink" href="#v1-0-17-april-2023" title="Link to this heading">#</a></h1>
<p>This release is a major update of the SfincsModel interface. It contains many new features,
such as support for <em>rotated grids</em>, <em>subgrid</em> and improved support for <em>building models from Python</em> scripts.
The documentation and exmaples have been updated to reflect these changes.</p>
<p>The release however also contains several breaking changes as we have tried to improve the
consistency of the interface and match it more closely to the SFINCS model itself.
Please carefully check the API reference for the new methods and arguments.</p>
<section id="main-differences">
<h2>Main differences<a class="headerlink" href="#main-differences" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><cite>setup_region</cite> has been replaced by <cite>setup_grid_from_region</cite> and  <cite>setup_grid</cite>.
This method actually creates an empty regular grid based on a region of interest or user-defined coordinates, shape, rotation, etc..</p></li>
<li><p><cite>setup_dep</cite> has replaced <cite>setup_topobathy</cite> and <cite>setup_merge_topobathy</cite>.
This method can now also be used to setup a bathymetry map from multiple sources at once.</p></li>
<li><p><cite>setup_mask_active</cite> has replaced <cite>setup_mask</cite>.</p></li>
<li><p><cite>setup_mask_bounds</cite> has replaced <cite>setup_bounds</cite></p></li>
<li><p><cite>setup_waterlevel_forcing</cite> has replaced <cite>setup_h_forcing</cite> and now supports merging fording from several data sources</p></li>
<li><p><cite>setup_discharge_forcing</cite> has replaced <cite>setup_q_forcing</cite> and now supports merging fording from several data sources</p></li>
<li><p><cite>setup_discharge_forcing_from_grid</cite> has replaces <cite>setup_q_forcing_from_grid</cite></p></li>
<li><p><cite>setup_precip_forcing</cite> has replaced <cite>setup_p_forcing</cite></p></li>
<li><p><cite>setup_precip_forcing_from_grid</cite> has replaced <cite>setup_p_forcing_from_grid</cite></p></li>
<li><p><cite>setup_observation_points</cite> has replace <cite>setup_gauges</cite></p></li>
</ul>
</section>
<section id="id4">
<h2>Added<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><cite>setup_grid</cite> to setup a user-defined regular grid based coordinates, shape, rotation, etc.</p></li>
<li><p><cite>setup_subgrid</cite> to setup subgrid tables (sbgfile) based on one ore more elevation and Manning roughness datasets</p></li>
<li><p><cite>setup_constant_infiltration</cite> to setup a constant infiltration rate maps (qinffile)</p></li>
<li><p><cite>setup_waterlevel_bnd_from_mask</cite> to setup water level boundary points (bndfile) based on the SFINCS model mask (mskfile)</p></li>
<li><p><cite>setup_tiles</cite> to create tiles of the model for fast visualization</p></li>
</ul>
</section>
<section id="id5">
<h2>Changed<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><cite>setup_river_inflow</cite> and <cite>setup_river_outflow</cite> are now based river centerline data (which can be derivded from hydrography data).
This is more robust compared to the previous method which was based on reprojected flow direction data.</p></li>
</ul>
</section>
<section id="removed-not-replaced">
<h2>Removed (not replaced)<a class="headerlink" href="#removed-not-replaced" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><cite>setup_basemaps</cite> This method was already deprecated in v0.2.1 and has now been removed.</p></li>
<li><p><cite>setup_river_hydrography</cite> This method was removed as reprojection of the hydrography data is no longer required for river inflow/outflow.</p></li>
<li><p><cite>setup_river_bathymetry</cite> This method was removed as river bathymetry should ideally be burned in the subgrid data of the model rather
than the dep file itself to be able to include rivers with widths smaller than the model grid cell size. A new option to burn rivers
in the subgrid data will be added in to <cite>setup_subgrid</cite> a future release.</p></li>
</ul>
</section>
<section id="new-low-level-classes">
<h2>New low-level classes<a class="headerlink" href="#new-low-level-classes" title="Link to this heading">#</a></h2>
<p>These classes are not intended to be used directly by the user, but are used internally by the SfincsModel class.</p>
<ul class="simple">
<li><p>The <cite>SfincsInput</cite> class contains methods to generate, read and write SFINCS input files</p></li>
<li><p>The <cite>RegularGrid</cite> class contains methods to create and manipulate regular grids</p></li>
<li><p>The <cite>SubgridTableRegular</cite> class contains methods to create and manipulate subgrid tables for regular grids</p></li>
</ul>
</section>
</section>
<section id="v0-2-1-23-february-2022">
<h1>v0.2.1 (23 February 2022)<a class="headerlink" href="#v0-2-1-23-february-2022" title="Link to this heading">#</a></h1>
<section id="id6">
<h2>Deprecated<a class="headerlink" href="#id6" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>setup_basemaps</strong> has been replaced by <strong>setup_topobathy</strong></p></li>
<li><p>In <strong>setup_mask</strong>, the “active_mask_fn” argument has been renamed to “mask_fn” for consistency</p></li>
<li><p>In <strong>setup_river_inflow</strong> and <strong>setup_river_outflow</strong> the “basemaps_fn” argument has been renamed to “hydrography_fn” for consistency</p></li>
<li><p>In <strong>setup_river_outflow</strong> the “outflow_width” argument has been renamed to “river_width” for consistency with setup_river_inflow</p></li>
<li><p><strong>setup_q_forcing_from_grid</strong> and <strong>workflows.snap_discharge</strong> have a “rel_error” and “abs_error” argument instead of a single “max_error” argument.</p></li>
</ul>
</section>
<section id="bugfix">
<h2>Bugfix<a class="headerlink" href="#bugfix" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>bugfix <strong>setup_p_forcing</strong> to ensure the data is 1D when passed to set_forcing_1d method</p></li>
<li><p>bugfix <strong>setup_p_forcing_from_grid</strong> when aggregating with a multi polygon region.</p></li>
<li><p>bugfix <strong>read_results</strong> with new corner_x/y instead of edge_x/y dimensions in sfincs_map.nc</p></li>
</ul>
</section>
<section id="new">
<h2>New<a class="headerlink" href="#new" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>setup_region</strong> method to set the (hydrological) model region of interest (before part of <strong>setup_basemaps</strong>).</p></li>
<li><p><strong>setup_river_hydrography</strong> allows to derive hydrography data [‘flwdir’, ‘uparea’] from the model elevation or reproject it from a global dataset.
Derived ‘uparea’ and ‘flwdir’ maps are saved in the GIS folder and can be reused later (if kept together with the model)</p></li>
<li><p><strong>setup_river_bathymetry</strong> to estimate a river depth based on bankfull discharge and river width. A mask of river cells ‘rivmsk’ is kept in the GIS folder.</p></li>
<li><p>Added parameter mapping file for ESA Worldcover dataset</p></li>
</ul>
</section>
<section id="id7">
<h2>Changed<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>setup_mask</strong> and <strong>setup_bounds</strong> both have a “mask_fn”, “include_mask_fn” and “exclude_mask_fn” polygon and “min_elv” and “max_elv” elevation arguments to determine valid / boundary cells.</p></li>
<li><p><strong>setup_mask</strong> and <strong>setup_bounds</strong> have a “reset_mask” and “reset_bounds” option respectively to start with a clean mask or remove previously set boundary cells.</p></li>
<li><p><strong>setup_mask</strong> takes a new “drop_area” argument to drop regions of contiguous cells smaller than this maximum area threshold, useful to remove (spurious) small islands.</p></li>
<li><p><strong>setup_mask</strong> takes a new “fill_area” argument to fill regions of contiguous cells below the “min_elv” or above “max_elv” threshold surrounded by cells within the valid elevation range.</p></li>
<li><p>In <strong>setup_bounds</strong> and <strong>setup_mask</strong> a “connectivity” argument is exposed to determine whether edge cells or regions of contiguous cells should be based on D4 (horizontal and vertical) or D8 (also diagonal) connections.</p></li>
<li><p>In <strong>setup_bounds</strong> we avoid open boundary cells (mask == 3) next to water level boundary cells (mask == 2)</p></li>
<li><p><strong>setup_merge_topobathy</strong> has a new “max_width” argument to use bathymetry data from new source within a fixed width around the topography data.</p></li>
<li><dl class="simple">
<dt><strong>setup_river_inflow</strong> and <strong>setup_river_outflow</strong> are now based on the same <strong>workflows.river_boundary_points</strong> method.</dt><dd><p>Both have a “river_upa” and “river_len” argument and the hydrography data is not required if <strong>setup_river_hydrography</strong> is ran beforehand.
The model domain is also determined on-the-fly, thus it is not required to run setup_mask beforehand.</p>
</dd>
</dl>
</li>
<li><p><strong>setup_river_inflow</strong> has a new “river_width” argument to ensure closed boundary cells near a discharge source location</p></li>
<li><p><strong>write_config</strong> has a new “rel_path” argument that allows you to write sfincs.inp with references to model files in the root and rel_path directory.</p></li>
<li><p>Write dep file with cm accuracy. This should be sufficient but also hides differences between linux and window builds.</p></li>
<li><p>Exposed “interp_method” argument in <strong>setup_merge_topobathy</strong> to select interpolation method to fill NaNs.</p></li>
<li><p><strong>setup_cn_infiltration</strong> and <strong>setup_manning_roughness</strong> use default values for river cells as defined in <strong>setup_river_bathymetry</strong></p></li>
<li><p>The <strong>setup_manning_rougness</strong> has a new “sea_man” argument to set a constant roughness for cells below zero elevation.</p></li>
<li><p>An improved version of interbasins <strong>region</strong> option has been implemented, see hydroMT core v0.4.5 for details.</p></li>
<li><p>Bumped minimal pyflwdir version to 0.5.5</p></li>
<li><p>Use mamba to setup CI environments</p></li>
</ul>
</section>
</section>
<section id="v0-2-0-2-august-2021">
<h1>v0.2.0 (2 August 2021)<a class="headerlink" href="#v0-2-0-2-august-2021" title="Link to this heading">#</a></h1>
<section id="id8">
<h2>Bugfix<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>scsfile variable changed to maximum soil moisture retention [inch]; was curve number [-]</p></li>
<li><p>fix setting delimited text based geodatasets for h and q forcing.</p></li>
</ul>
</section>
<section id="id9">
<h2>Changed<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Bumped minimal hydromt version to 0.4.2</p></li>
<li><p>splitted <code class="docutils literal notranslate"><span class="pre">setup_topobathy</span></code> into multiple smaller methods: <code class="docutils literal notranslate"><span class="pre">setup_merge_topobathy</span></code>, <code class="docutils literal notranslate"><span class="pre">setup_mask</span></code> and <code class="docutils literal notranslate"><span class="pre">setup_bounds</span></code></p></li>
<li><p>separated many low-level methods into utils.py and plots.py</p></li>
<li><p>save bzs/bzd &amp; dis/src only as GeoDataArray at forcing and do not copy the locations at staticgeoms.</p></li>
<li><p>sort src/bnd files on x_dim for comparability between OS</p></li>
<li><p>staticmaps are by default saved (and read) in S-&gt;N orientation as this matches the SFINCS better.</p></li>
</ul>
</section>
<section id="id10">
<h2>Added<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<p>support for SFINCS files:</p>
<ul class="simple">
<li><p>structures: sfincs.thd &amp; sfincs.weir</p></li>
<li><p>results: sfincs_map.nc &amp; sfincs_his.nc</p></li>
<li><p>states: sfincs.restart</p></li>
<li><p>forcing: sfincs.precip</p></li>
</ul>
<p>new methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setup_p_forcing_from_grid</span></code> and <code class="docutils literal notranslate"><span class="pre">setup_p_forcing</span></code> with support for spatial uniform precip</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup_merge_topobathy</span></code> to merge a new topo/bathymetry dataset with the basemap DEM</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup_mask</span></code> and <code class="docutils literal notranslate"><span class="pre">setup_bounds</span></code> methods to setup the sfincs mask file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup_structures</span></code> thd/weir files are read/written as part of read_staticgeoms</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read_states</span></code>, <code class="docutils literal notranslate"><span class="pre">write_states</span></code> methods with support for restart</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read_results</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_spatial_attrs</span></code> and <code class="docutils literal notranslate"><span class="pre">get_spatial_attrs</span></code> (previously part of read_staticmaps)</p></li>
</ul>
<p>new workflows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">merge_topobathy</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mask_topobathy</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">snap_discharge</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">river_inflow_points</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">river_outflow_points</span></code></p></li>
</ul>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>build from python example</p></li>
<li><p>overviews with SfincsModel setup components &amp; SfincsModel data</p></li>
</ul>
</section>
<section id="id11">
<h2>Deprecated<a class="headerlink" href="#id11" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setup_p_gridded</span></code></p></li>
</ul>
</section>
</section>
<section id="v0-1-0-18-may-2021">
<h1>v0.1.0 (18 May 2021)<a class="headerlink" href="#v0-1-0-18-may-2021" title="Link to this heading">#</a></h1>
<p>Noticeable changes are a new <code class="docutils literal notranslate"><span class="pre">setup_river_inflow</span></code> and <code class="docutils literal notranslate"><span class="pre">setup_river_outflow</span></code> methods</p>
<section id="id12">
<h2>Added<a class="headerlink" href="#id12" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>setup_river_outflow method to set ouflow (msk=3) boundary at river outflow points</p></li>
</ul>
</section>
<section id="id13">
<h2>Changed<a class="headerlink" href="#id13" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Updated to hydromt v0.4.1</p></li>
</ul>
</section>
<section id="id14">
<h2>Documentation<a class="headerlink" href="#id14" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Now <strong>latest</strong> and <strong>stable</strong> versions.</p></li>
<li><p>Updated build instructions</p></li>
<li><p>Added <strong>build_coastal_model</strong>, <strong>build_riverine_model</strong> and <strong>plot_sfincs_map</strong> notebooks to the examples.</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="dev_guide/intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Developments</p>
      </div>
    </a>
    <a class="right-next"
       href="dev_guide/roadmap.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Roadmap</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">What’s new</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#v1-0-2-unreleased">v1.0.2 (unreleased)</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#added">Added</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changed">Changed</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fixed">Fixed</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#v1-0-1-3-august-2023">v1.0.1 (3 August 2023)</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Added</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Changed</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Fixed</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#removed">Removed</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#v1-0-17-april-2023">v1.0 (17 April 2023)</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#main-differences">Main differences</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Added</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Changed</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#removed-not-replaced">Removed (not replaced)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-low-level-classes">New low-level classes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#v0-2-1-23-february-2022">v0.2.1 (23 February 2022)</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Deprecated</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bugfix">Bugfix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new">New</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Changed</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#v0-2-0-2-august-2021">v0.2.0 (2 August 2021)</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Bugfix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Changed</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Added</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation">Documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Deprecated</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#v0-1-0-18-may-2021">v0.1.0 (18 May 2021)</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Added</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Changed</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Documentation</a></li>
</ul>
</li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="_sources/changelog.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=c5ced968eda925caa686"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=c5ced968eda925caa686"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright Deltares.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>