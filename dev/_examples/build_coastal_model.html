<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Make a coastal sfincs model from scratch using hydromt &mdash; hydromt_sfincs  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Build a riverine SFINCS model from scratch" href="build_riverine_model.html" />
    <link rel="prev" title="Examples" href="../examples/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> hydromt_sfincs
          </a>
              <div class="version">
                0.2.2.dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples/index.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Build a coastal SFINCS model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#HydroMT-CLI-build-interface">HydroMT CLI build interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Building-a-first-model-(and-getting-an-error-when-data-is-missing)">Building a first model (and getting an error when data is missing)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Building-a-first-model-(and-getting-it-right)">Building a first model (and getting it right)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Building-a-complete-model-(ready-to-run)">Building a complete model (ready to run)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Inspecting-the-model">Inspecting the model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="build_riverine_model.html">Build a riverine SFINCS model</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_model.html">Update SFINCS model components</a></li>
<li class="toctree-l2"><a class="reference internal" href="sfincs_results_hmax.html">SFINCS results: maximum water depth</a></li>
<li class="toctree-l2"><a class="reference internal" href="sfincs_results_animation.html">SFINCS results: create animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_from_py.html">Build a SFINCS model from python</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/sfincs.html">SFINCS model: General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/sfincs_coastal.html">Setting up a coastal model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/sfincs_riverine.html">Setting up a riverine model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References &amp; Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/api_index.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">What’s new</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">hydromt_sfincs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../examples/index.html">Examples</a> &raquo;</li>
      <li>Make a coastal sfincs model from scratch using hydromt</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_examples/build_coastal_model.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="Make-a-coastal-sfincs-model-from-scratch-using-hydromt">
<h1>Make a coastal sfincs model from scratch using hydromt<a class="headerlink" href="#Make-a-coastal-sfincs-model-from-scratch-using-hydromt" title="Permalink to this headline"></a></h1>
<p>This notebook demonstrates how to prepare and inspect a SFINCS model from scratch. The notebook does not contain the SFINCS code or executables to run the model with.</p>
<p>We will make a schematization with the following features: * we only simulate coastal flooding, we do not consider any interactions with riverine flooding * we use the MERIT Hydro dataset as elevation * we include boundary conditions from the Global Tide and Surge Model by imposing a number of boundary points where forcing is expected</p>
<p>All lines in this notebook which start with <code class="docutils literal notranslate"><span class="pre">!</span></code> are executed from the command line. Within jupyter (except for jupyter lab) the logging messages are shown after completion. You can also copy these lines and paste these in your shell to get more direct feedback.</p>
<section id="HydroMT-CLI-build-interface">
<h2>HydroMT CLI build interface<a class="headerlink" href="#HydroMT-CLI-build-interface" title="Permalink to this headline"></a></h2>
<p>First let us see what hydromt provides us with.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt --help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Usage: hydromt [OPTIONS] COMMAND [ARGS]...

  Command line interface for hydromt models.

Options:
  --version  Show the version and exit.
  --models   Print availabe model plugins and exit.
  --help     Show this message and exit.

Commands:
  build   Build models
  clip    Clip models.
  update  Update models

</pre></div></div>
</div>
<p>With the <code class="docutils literal notranslate"><span class="pre">models</span></code> flag we can ask if hydroMT recognizes the SFINCS plugin (SFINCS should be mentioned):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt --models
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
hydroMT model plugins: sfincs (v0.2.2.dev0)

</pre></div></div>
</div>
<p>It looks like we have several commands that we can consider. We want to <code class="docutils literal notranslate"><span class="pre">build</span></code> a model. How does that work? We can also call <code class="docutils literal notranslate"><span class="pre">--help</span></code> on the available hydroMT commands as follows.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt build --help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Usage: hydromt build [OPTIONS] MODEL MODEL_ROOT REGION

  Build models from source data.

  Example usage:
  --------------

  To build a wflow model for a subbasin using and point coordinates snapped to cells with stream order &gt;= 4
  hydromt build wflow /path/to/model_root &#34;{&#39;subbasin&#39;: [-7.24, 62.09], &#39;strord&#39;: 4}&#34; -i /path/to/wflow_config.ini

  To build a wflow model based on basin ID
  hydromt build wflow /path/to/model_root &#34;{&#39;basin&#39;: 230001006}&#34;

  To build a sfincs model based on a bbox (for Texel)
  hydromt build sfincs /path/to/model_root &#34;{&#39;bbox&#39;: [4.6891,52.9750,4.9576,53.1994]}&#34;

Options:
  -r, --res FLOAT             Model resolution in model src.
  --build-base / --build-all  Deprecated!
  --opt TEXT                  Component specific keyword arguments, see the
                              setup_&lt;component&gt; method of the specific model
                              for more information about the arguments.
  -i, --config PATH           Path to hydroMT configuration file, for the
                              model specific implementation.
  -d, --data PATH             File path to yml data sources file. See
                              documentation for required yml file format.
  --dd, --deltares-data       Parse default deltares data yml from
                              https://github.com/DirkEilander/hydromt-
                              artifacts/releases
  -q, --quiet                 Decrease verbosity.
  -v, --verbose               Increase verbosity.
  --help                      Show this message and exit.

</pre></div></div>
</div>
</section>
<section id="Building-a-first-model-(and-getting-an-error-when-data-is-missing)">
<h2>Building a first model (and getting an error when data is missing)<a class="headerlink" href="#Building-a-first-model-(and-getting-an-error-when-data-is-missing)" title="Permalink to this headline"></a></h2>
<p>Let’s try to build an entire schematization, just from the command line (Awesome!!!). In the <code class="docutils literal notranslate"><span class="pre">--help</span></code> section, there is an example for making a model from a bounding box, which is very intuitive. Let’s try exactly that. We store the model on the local path <code class="docutils literal notranslate"><span class="pre">./texel_sfincs</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt build sfincs ./texel_sfincs <span class="s2">&quot;{&#39;bbox&#39;: [4.68,52.97,4.96,53.20]}&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2022-02-23 13:22:54,535 - build - sfincs - ERROR - depfile = sfincs.dep not found
2022-02-23 13:22:54,535 - build - sfincs - ERROR - mskfile = sfincs.msk not found
2022-02-23 13:22:54,535 - build - sfincs - ERROR - indexfile = sfincs.ind not found

</pre></div></div>
</div>
<p>The above might have taken a few seconds, but then should have miserably crashed! What happened: * HydroMT was looking for a data catalog to use. * It did not find any and therefore, it automatically downloaded a sample data catalog which you can now find on your home folder under .hydromt_data * It tried to build a model in the Texel bounding box, but…alas, the sample dataset does not cover Texel at all! To add datasets covering the area outside the sample data extent, setup your own
datasets using data yml files <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/data.html">hydroMT data</a> using <code class="docutils literal notranslate"><span class="pre">--data</span> <span class="pre">PATH</span></code> option, or if your are connected to the Deltares network <code class="docutils literal notranslate"><span class="pre">--deltares-data</span></code> flag.</p>
</section>
<section id="Building-a-first-model-(and-getting-it-right)">
<h2>Building a first model (and getting it right)<a class="headerlink" href="#Building-a-first-model-(and-getting-it-right)" title="Permalink to this headline"></a></h2>
<p>Let’s adapt the bounding box to an area that fits within the sample dataset. The dataset covers the Piave basin and its surroundings in Italy. A good place to get a CSV formatted bounding box is <a class="reference external" href="https://boundingbox.klokantech.com/">https://boundingbox.klokantech.com/</a></p>
<p>We also add <code class="docutils literal notranslate"><span class="pre">-vv</span></code> for extra verbosity</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt build sfincs ./venice_sfincs <span class="s2">&quot;{&#39;bbox&#39;: [12.05,45.30,12.85,45.65]}&quot;</span> -vv
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2022-02-23 13:22:58,678 - build - log - DEBUG - Writing log messages to new file /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs/hydromt.log.
2022-02-23 13:22:58,678 - build - log - INFO - HydroMT version: 0.4.5
2022-02-23 13:22:58,678 - build - main - INFO - Building instance of sfincs model at /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs.
2022-02-23 13:22:58,678 - build - main - INFO - User settings:
2022-02-23 13:22:58,681 - build - model_plugins - DEBUG - Loaded model plugin &#39;sfincs = hydromt_sfincs.sfincs.SfincsModel&#39; (0.2.2.dev0)
2022-02-23 13:22:58,681 - build - model_api - INFO - Initializing sfincs model from hydromt_sfincs (v0.2.2.dev0).
2022-02-23 13:22:58,681 - build - model_api - INFO - setup_region.region: {&#39;bbox&#39;: [12.05, 45.3, 12.85, 45.65]}
2022-02-23 13:22:58,681 - build - model_api - INFO - setup_region.hydrography_fn: merit_hydro
2022-02-23 13:22:58,681 - build - model_api - INFO - setup_region.basin_index_fn: merit_hydro_index
2022-02-23 13:22:58,682 - build - basin_mask - DEBUG - Parsed region (kind=bbox): {&#39;bbox&#39;: [12.05, 45.3, 12.85, 45.65]}
2022-02-23 13:22:58,685 - build - sfincs - INFO - Writing model data to /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs
2022-02-23 13:22:58,685 - build - sfincs - INFO - Write staticgeom files
2022-02-23 13:22:58,685 - build - sfincs - INFO - Write vector file(s) for staticgeoms to &#39;gis&#39; subfolder
2022-02-23 13:22:58,702 - build - model_api - DEBUG - Default config read from /usr/share/miniconda/envs/hydromt-sfincs/lib/python3.9/site-packages/hydromt_sfincs/data/sfincs/sfincs.inp
2022-02-23 13:22:58,702 - build - sfincs - ERROR - depfile = sfincs.dep not found
2022-02-23 13:22:58,702 - build - sfincs - ERROR - mskfile = sfincs.msk not found
2022-02-23 13:22:58,702 - build - sfincs - ERROR - indexfile = sfincs.ind not found
2022-02-23 13:22:58,702 - build - model_api - INFO - Writing model config to /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs/sfincs.inp
2022-02-23 13:22:58,702 - build - data_adapter - INFO - Adding sample data v0.0.6 from artifacts

</pre></div></div>
</div>
<p>This should work without any errors.</p>
<p>The example above means the following: run <strong>hydromt build</strong> with:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sfincs</span></code> : i.e. build a SFINCS model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">./venice_sfincs</span></code> : output model folder</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;{'bbox':</span> <span class="pre">[12.05,45.30,12.85,45.65]}&quot;</span></code> : make a model that is active for the full given bounding box. All <em>REGION</em> options are described in the <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/cli.html#region-options">docs</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-vv</span></code> : give some extra verbosity (2 * v) to display feedback on screen. Now debug messages are provided.</p></li>
</ul>
<p>NOTE: As we did not specify a model configuration, only the model region has been setup. To build a complete model we need the use a configuration ini-file.</p>
<p>When we inspect the newly created <code class="docutils literal notranslate"><span class="pre">./venice_sfincs</span></code> folder we only find a log file and the gis folder containing the region geometry saved as geojson file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls ./venice_sfincs
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
gis  hydromt.log  hydromt_data.yml  sfincs.inp
</pre></div></div>
</div>
</section>
<section id="Building-a-complete-model-(ready-to-run)">
<h2>Building a complete model (ready to run)<a class="headerlink" href="#Building-a-complete-model-(ready-to-run)" title="Permalink to this headline"></a></h2>
<p>We can provide many more settings in an configuration (.ini) file instead of command line arguments. If you don’t provide an ini file (as done above), only the model region is determined. To complete your model you can add more <a class="reference external" href="https://deltares.github.io/hydromt_sfincs/latest/user_guide/sfincs.html">model components</a> to the model setup.</p>
<p>Let’s have a look a typical ini file for setting up coastal SFINCS model, where each <code class="docutils literal notranslate"><span class="pre">[setup_&lt;&gt;]</span></code> refers to a model component. All options which end with <code class="docutils literal notranslate"><span class="pre">_fn</span></code> refers to a data source from the data catalog or a path to data on your machine, see <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/data.html">hydroMT data</a>. In this case some sample data which is downloaded to your machine at <code class="docutils literal notranslate"><span class="pre">$USER_ROOT/.hydromt_data</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fn_ini</span> <span class="o">=</span> <span class="s2">&quot;sfincs_coastal.ini&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fn_ini</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[setup_config]
tref = 20100201 000000
tstart = 20100201 000000
tstop = 20100210 000000
alpha = 0.5
zsini = 0.5

[setup_topobathy]
topobathy_fn = merit_hydro       # topobathy basemaps [&#39;elevtn&#39;]
crs = utm                       # model CRS (must be UTM zone)

[setup_merge_topobathy]
topobathy_fn = gebco            # bathymetry [&#39;elevtn&#39;]
mask_fn = osm_coastlines        # sea polygon describing where we want to use the new data
offset_fn = dtu10mdt_egm96      # mean dynamic topography to account for the difference in vertical datum between the current and new data
merge_method = first            # use valid new data where the current data has invalid (nodata) values
merge_buffer = 2                # buffer (cells) between elevation and bathymetry data filled with &#39;linear&#39; interpolation

[setup_mask]
elv_min = -5                    # minimum elevation for valid cells

[setup_cn_infiltration]
cn_fn = gcn250                  # curve number source
antecedent_runoff_conditions = avg # for gcn250: {&#39;dry&#39;, &#39;avg&#39;, &#39;wet&#39;}

[setup_manning_roughness]
lulc_fn = vito                  # land-use land-cover source
map_fn = None                   # mapping file. read from hydromt/data/lulc/{lulc_fn}_mapping.csv if None

[setup_bounds]
btype = waterlevel              # boundary type [&#39;waterlevel&#39;, &#39;outflow&#39;]
mask_fn = osm_coastlines        # sea polygon

[setup_h_forcing]
geodataset_fn = data/gtsm_locations.csv  # waterlevel gauge locations
timeseries_fn = data/gtsm_timeseries.csv  # waterlevel time series
buffer = 1e4                    # buffer around model region to select gauges

[setup_p_forcing_from_grid]
precip_fn = era5_hourly         # gridded precipitation data [&#39;precip&#39;]
dst_res = None                  # output resolution (m)
aggregate = True                # if True return the aggregated mean as spatially uniform precip
</pre></div></div>
</div>
<p>You can see the following sections:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_config]</span></code>: arguments which are forwarded to the SFINCS model configuration file sfincs.inp</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_topobathy]</span></code>: basic information required for the model domain grid and elevation. These are the minimal demanded static layers that any SFINCS model needs. Here you may for instance consider altering the elevation and bathymetry data for local data sources. These then have to be supplied in the <code class="docutils literal notranslate"><span class="pre">data_catalog.yml</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_merge_topobathy]</span></code>: add additional data source for bathymetry data to merge with the basemap elevation data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_mask]</span></code>: set valid model cells based on the topobathy data and a minimal depth boundary (more options available).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_cn_infiltration]</span></code>: potential maximum soil retention maps to be used in the curve number method, see <a class="reference external" href="https://sfincs.readthedocs.io/en/latest/input.html?highlight=curve#spatially-varying-curve-number">SFINCS docs</a> for more information</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_manning_roughness]</span></code>: configuration of the Manning roughness values, typically consisting of a land use or land cover map, and a lookup table that relates land use classes to manning roughness values in sec m<span class="math notranslate nohighlight">\(^{-1/3}\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_bounds]</span></code>: set cells at the model domain edge and within the sea polygon to waterlevel boundary cells.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_h_forcing]</span></code>: water level forcing data. This can be provided from a set of csv files, see data_sources.yml, but also netcdf files, see <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/data.html">hydroMT docs</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_p_forcing_from_grid]</span></code>: gridded precipitation data, that can be used to do compound flood simulations. The <code class="docutils literal notranslate"><span class="pre">[setup_cn_infiltration]</span></code> is then quite essential to include.</p></li>
</ul>
<p>To build a model from scratch add the ini file to the command line <code class="docutils literal notranslate"><span class="pre">hydromt</span> <span class="pre">build</span></code> method at a 150 m resolution.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt build sfincs ./venice_sfincs_150 <span class="s2">&quot;{&#39;bbox&#39;: [12.05,45.30,12.85,45.65]}&quot;</span> -r <span class="m">150</span> -i sfincs_coastal.ini -vv
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2022-02-23 13:23:01,406 - build - log - DEBUG - Writing log messages to new file /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs_150/hydromt.log.
2022-02-23 13:23:01,406 - build - log - INFO - HydroMT version: 0.4.5
2022-02-23 13:23:01,406 - build - main - INFO - Building instance of sfincs model at /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs_150.
2022-02-23 13:23:01,406 - build - main - INFO - User settings:
2022-02-23 13:23:01,411 - build - model_plugins - DEBUG - Loaded model plugin &#39;sfincs = hydromt_sfincs.sfincs.SfincsModel&#39; (0.2.2.dev0)
2022-02-23 13:23:01,411 - build - model_api - INFO - Initializing sfincs model from hydromt_sfincs (v0.2.2.dev0).
2022-02-23 13:23:01,411 - build - model_api - DEBUG - Setting model config options.
2022-02-23 13:23:01,412 - build - model_api - DEBUG - Default config read from /usr/share/miniconda/envs/hydromt-sfincs/lib/python3.9/site-packages/hydromt_sfincs/data/sfincs/sfincs.inp
2022-02-23 13:23:01,413 - build - model_api - INFO - setup_region.region: {&#39;bbox&#39;: [12.05, 45.3, 12.85, 45.65]}
2022-02-23 13:23:01,413 - build - model_api - INFO - setup_region.hydrography_fn: merit_hydro
2022-02-23 13:23:01,413 - build - model_api - INFO - setup_region.basin_index_fn: merit_hydro_index
2022-02-23 13:23:01,413 - build - basin_mask - DEBUG - Parsed region (kind=bbox): {&#39;bbox&#39;: [12.05, 45.3, 12.85, 45.65]}
2022-02-23 13:23:01,417 - build - model_api - INFO - setup_topobathy.topobathy_fn: merit_hydro
2022-02-23 13:23:01,417 - build - model_api - INFO - setup_topobathy.res: 150.0
2022-02-23 13:23:01,417 - build - model_api - INFO - setup_topobathy.crs: utm
2022-02-23 13:23:01,417 - build - model_api - INFO - setup_topobathy.reproj_method: bilinear
2022-02-23 13:23:01,505 - build - data_adapter - INFO - Adding sample data v0.0.6 from artifacts
2022-02-23 13:23:01,572 - build - data_adapter - INFO - DataCatalog: Getting merit_hydro RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/merit_hydro/{variable}.tif
2022-02-23 13:23:01,593 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [12.032, 45.282, 12.863, 45.668]
2022-02-23 13:23:01,652 - build - model_api - INFO - setup_merge_topobathy.topobathy_fn: gebco
2022-02-23 13:23:01,652 - build - model_api - INFO - setup_merge_topobathy.elv_min: None
2022-02-23 13:23:01,652 - build - model_api - INFO - setup_merge_topobathy.elv_max: None
2022-02-23 13:23:01,652 - build - model_api - INFO - setup_merge_topobathy.mask_fn: osm_coastlines
2022-02-23 13:23:01,653 - build - model_api - INFO - setup_merge_topobathy.max_width: 0
2022-02-23 13:23:01,653 - build - model_api - INFO - setup_merge_topobathy.offset_fn: dtu10mdt_egm96
2022-02-23 13:23:01,653 - build - model_api - INFO - setup_merge_topobathy.offset_constant: 0
2022-02-23 13:23:01,653 - build - model_api - INFO - setup_merge_topobathy.merge_buffer: 2
2022-02-23 13:23:01,653 - build - model_api - INFO - setup_merge_topobathy.merge_method: first
2022-02-23 13:23:01,653 - build - model_api - INFO - setup_merge_topobathy.reproj_method: bilinear
2022-02-23 13:23:01,653 - build - model_api - INFO - setup_merge_topobathy.interp_method: linear
2022-02-23 13:23:01,656 - build - data_adapter - INFO - DataCatalog: Getting gebco RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/gebco.tif
2022-02-23 13:23:01,667 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.862, 45.667]
2022-02-23 13:23:01,682 - build - data_adapter - INFO - DataCatalog: Getting osm_coastlines GeoDataFrame vector data from /home/runner/.hydromt_data/data/v0.0.6/osm_coastlines.gpkg
2022-02-23 13:23:01,682 - build - data_adapter - INFO - GeoDataFrame: Read vector data.
2022-02-23 13:23:01,802 - build - data_adapter - INFO - DataCatalog: Getting dtu10mdt_egm96 RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/dtu10mdt_egm96.tif
2022-02-23 13:23:01,812 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.862, 45.667]
2022-02-23 13:23:02,286 - build - bathymetry - DEBUG - Interpolate topobathy at 1075 cells
2022-02-23 13:23:04,970 - build - model_api - INFO - setup_mask.mask_fn: None
2022-02-23 13:23:04,971 - build - model_api - INFO - setup_mask.include_mask_fn: None
2022-02-23 13:23:04,971 - build - model_api - INFO - setup_mask.exclude_mask_fn: None
2022-02-23 13:23:04,971 - build - model_api - INFO - setup_mask.elv_min: -5
2022-02-23 13:23:04,971 - build - model_api - INFO - setup_mask.elv_max: None
2022-02-23 13:23:04,971 - build - model_api - INFO - setup_mask.fill_area: 10
2022-02-23 13:23:04,971 - build - model_api - INFO - setup_mask.drop_area: 0
2022-02-23 13:23:04,971 - build - model_api - INFO - setup_mask.connectivity: 8
2022-02-23 13:23:04,971 - build - model_api - INFO - setup_mask.all_touched: True
2022-02-23 13:23:04,971 - build - model_api - INFO - setup_mask.reset_mask: False
2022-02-23 13:23:04,990 - build - utils - DEBUG - 0 gaps outside valid elevation range &lt; 10 km2.
2022-02-23 13:23:04,991 - build - sfincs - DEBUG - Mask with 79345 active cells set; updating staticmaps ...
2022-02-23 13:23:04,998 - build - sfincs - DEBUG - Derive region geometry based on active cells.
2022-02-23 13:23:05,008 - build - model_api - INFO - setup_cn_infiltration.cn_fn: gcn250
2022-02-23 13:23:05,008 - build - model_api - INFO - setup_cn_infiltration.antecedent_runoff_conditions: avg
2022-02-23 13:23:05,008 - build - data_adapter - INFO - DataCatalog: Getting gcn250 RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/gcn250/{variable}.tif
2022-02-23 13:23:05,018 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.852, 45.667]
2022-02-23 13:23:05,071 - build - model_api - INFO - setup_manning_roughness.lulc_fn: vito
2022-02-23 13:23:05,071 - build - model_api - INFO - setup_manning_roughness.map_fn: None
2022-02-23 13:23:05,071 - build - model_api - INFO - setup_manning_roughness.riv_man: 0.03
2022-02-23 13:23:05,071 - build - model_api - INFO - setup_manning_roughness.lnd_man: 0.1
2022-02-23 13:23:05,071 - build - model_api - INFO - setup_manning_roughness.sea_man: None
2022-02-23 13:23:05,073 - build - data_adapter - INFO - DataCatalog: Getting vito RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/vito.tif
2022-02-23 13:23:05,084 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.852, 45.667]
2022-02-23 13:23:05,112 - build - landuse - INFO - Deriving N using average resampling (nodata=-999.0).
2022-02-23 13:23:05,206 - build - model_api - INFO - setup_bounds.btype: waterlevel
2022-02-23 13:23:05,206 - build - model_api - INFO - setup_bounds.mask_fn: osm_coastlines
2022-02-23 13:23:05,206 - build - model_api - INFO - setup_bounds.include_mask_fn: None
2022-02-23 13:23:05,206 - build - model_api - INFO - setup_bounds.exclude_mask_fn: None
2022-02-23 13:23:05,206 - build - model_api - INFO - setup_bounds.elv_min: None
2022-02-23 13:23:05,206 - build - model_api - INFO - setup_bounds.elv_max: None
2022-02-23 13:23:05,206 - build - model_api - INFO - setup_bounds.mask_buffer: 0
2022-02-23 13:23:05,206 - build - model_api - INFO - setup_bounds.connectivity: 8
2022-02-23 13:23:05,207 - build - model_api - INFO - setup_bounds.reset_bounds: False
2022-02-23 13:23:05,211 - build - data_adapter - INFO - DataCatalog: Getting osm_coastlines GeoDataFrame vector data from /home/runner/.hydromt_data/data/v0.0.6/osm_coastlines.gpkg
2022-02-23 13:23:05,213 - build - data_adapter - INFO - GeoDataFrame: Read vector data and clip to bbox (epsg:4326) [12.031, 45.282, 12.852, 45.667].
2022-02-23 13:23:05,241 - build - sfincs - DEBUG - 510 waterlevel (mask=2) boundary cells set.
2022-02-23 13:23:05,242 - build - model_api - INFO - setup_h_forcing.geodataset_fn: /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/data/gtsm_locations.csv
2022-02-23 13:23:05,242 - build - model_api - INFO - setup_h_forcing.timeseries_fn: /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/data/gtsm_timeseries.csv
2022-02-23 13:23:05,242 - build - model_api - INFO - setup_h_forcing.offset_fn: None
2022-02-23 13:23:05,242 - build - model_api - INFO - setup_h_forcing.buffer: 10000.0
2022-02-23 13:23:05,251 - build - data_adapter - INFO - DataCatalog: Getting gtsm_locations GeoDataset vector data from /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/data/gtsm_locations.csv
2022-02-23 13:23:05,602 - build - data_adapter - INFO - GeoDataset: Read vector data and clip to geom (epsg:32633) [278900.000, 5008550.000, 342400.000, 5059900.000].
2022-02-23 13:23:05,615 - build - data_adapter - DEBUG - GeoDataset: Slicing time dim (datetime.datetime(2010, 2, 1, 0, 0), datetime.datetime(2010, 2, 10, 0, 0))
2022-02-23 13:23:05,619 - build - sfincs - DEBUG - waterlevel forcing: setting bnd data for 6 points.
2022-02-23 13:23:05,619 - build - sfincs - DEBUG - waterlevel forcing: setting bzs data.
2022-02-23 13:23:05,620 - build - model_api - INFO - setup_p_forcing_from_grid.precip_fn: era5_hourly
2022-02-23 13:23:05,620 - build - model_api - INFO - setup_p_forcing_from_grid.dst_res: None
2022-02-23 13:23:05,620 - build - model_api - INFO - setup_p_forcing_from_grid.aggregate: True
2022-02-23 13:23:05,620 - build - data_adapter - INFO - DataCatalog: Getting era5_hourly RasterDataset netcdf data from /home/runner/.hydromt_data/data/v0.0.6/era5_hourly.nc
2022-02-23 13:23:05,655 - build - data_adapter - DEBUG - RasterDataset: Slicing time dim (datetime.datetime(2010, 2, 1, 0, 0), datetime.datetime(2010, 2, 10, 0, 0))
2022-02-23 13:23:05,661 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.852, 45.667]
2022-02-23 13:23:05,676 - build - data_adapter - DEBUG - RasterDataset: Convert units for 1 variables.
2022-02-23 13:23:05,682 - build - sfincs - DEBUG - Aggregate precip using mean.
2022-02-23 13:23:05,710 - build - sfincs - INFO - Writing model data to /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs_150
2022-02-23 13:23:05,739 - build - sfincs - DEBUG - Write binary map indices based on mask.
2022-02-23 13:23:05,740 - build - sfincs - DEBUG - Write binary map files: [&#39;dep&#39;, &#39;msk&#39;, &#39;scs&#39;, &#39;manning&#39;].
2022-02-23 13:23:05,767 - build - sfincs - INFO - Write raster file(s) for staticmaps to &#39;gis&#39; subfolder
2022-02-23 13:23:05,850 - build - sfincs - INFO - Write staticgeom files
2022-02-23 13:23:05,850 - build - sfincs - INFO - Write vector file(s) for staticgeoms to &#39;gis&#39; subfolder
2022-02-23 13:23:05,859 - build - sfincs - INFO - Write forcing files
2022-02-23 13:23:05,874 - build - sfincs - INFO - Write vector file(s) for forcing.bzs to &#39;gis&#39; subfolder
2022-02-23 13:23:05,883 - build - model_api - INFO - Writing model config to /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs_150/sfincs.inp

</pre></div></div>
</div>
<p>Let’s inspect the output folder. Notice that several SFINCS files have been written.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls ./venice_sfincs_150
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
gis               sfincs.bnd  sfincs.ind  sfincs.msk
hydromt.log       sfincs.bzs  sfincs.inp  sfincs.precip
hydromt_data.yml  sfincs.dep  sfincs.man  sfincs.scs
</pre></div></div>
</div>
<p>One of the files is the SFINCS input file which defines the model, lets have a look:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fn_inp</span> <span class="o">=</span> <span class="s2">&quot;./venice_sfincs_150/sfincs.inp&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fn_inp</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
mmax            = 425
nmax            = 272
dx              = 150.0
dy              = 150.0
x0              = 268650.0
y0              = 5018550.0
rotation        = 0
epsg            = 32633
inputformat     = bin
outputformat    = net
tref            = 20100201 000000
tstart          = 20100201 000000
tstop           = 20100210 000000
dtout           = 3600
dthisout        = 600
dtmaxout        = 86400
advection       = 0
alpha           = 0.5
huthresh        = 0.05
theta           = 0.9
min_lev_hmax    = -1
zsini           = 0.5
depfile         = sfincs.dep
mskfile         = sfincs.msk
indexfile       = sfincs.ind
scsfile         = sfincs.scs
manningfile     = sfincs.man
precipfile      = sfincs.precip
bzsfile         = sfincs.bzs
bndfile         = sfincs.bnd


</pre></div></div>
</div>
</section>
<section id="Inspecting-the-model">
<h2>Inspecting the model<a class="headerlink" href="#Inspecting-the-model" title="Permalink to this headline"></a></h2>
<p>Let’s have a closer look at the model. To interact with a model within a notebook or python script, we need to load a number of modules.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">hydromt_sfincs</span> <span class="kn">import</span> <span class="n">SfincsModel</span>
</pre></div>
</div>
</div>
<p>Now we can load the model in memory and inspect it.</p>
<p>Note that based on the global datasets the lagoon bathymetry is not well represented. A better merge between MERIT hydro topography and GEBCO bathymetry can be achieved by providing an better coastline shapefile (by default OSM based) which together with the merge_method argument determines which dataset is used where.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define the model&#39;s configuration file</span>
<span class="n">root</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;./venice_sfincs_150&quot;</span>

<span class="c1"># read the model with hydromt methods</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">SfincsModel</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="n">mod</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">mod</span><span class="o">.</span><span class="n">plot_basemap</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">shaded</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&lt;Figure size 936x504 with 2 Axes&gt;,
 &lt;GeoAxesSubplot:title={&#39;center&#39;:&#39;SFINCS dep map&#39;}, xlabel=&#39;x coordinate UTM zone 33N [m]&#39;, ylabel=&#39;y coordinate UTM zone 33N [m]&#39;&gt;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/_examples_build_coastal_model_30_1.png" src="../_images/_examples_build_coastal_model_30_1.png" />
</div>
</div>
</section>
<section id="Next-steps">
<h2>Next steps<a class="headerlink" href="#Next-steps" title="Permalink to this headline"></a></h2>
<p>You can update an existing model, e.g. to replace model layers or add forcing. this is described in a follow-up notebook <code class="docutils literal notranslate"><span class="pre">sfincs_update_model.ipynb</span></code></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../examples/index.html" class="btn btn-neutral float-left" title="Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="build_riverine_model.html" class="btn btn-neutral float-right" title="Build a riverine SFINCS model from scratch" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Deltares.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>