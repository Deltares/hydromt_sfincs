
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Make a coastal sfincs model from scratch using hydromt &#8212; HydroMT SFINCS  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-deltares.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_examples/build_coastal_model';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Build a riverine SFINCS model from scratch" href="build_riverine_model.html" />
    <link rel="prev" title="Setting up a riverine model" href="../user_guide/sfincs_riverine.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">

  
  
  
  
  
  
  

  
    <img src="../_static/hydromt-icon.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/hydromt-icon.svg" class="logo__image only-dark" alt="Logo image">
  
  
    <p class="title logo__title">HydroMT SFINCS</p>
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/intro.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../user_guide/intro.html">
                        User guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev_guide/intro.html">
                        Developments
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://deltares.github.io/hydromt/latest/index.html">
                    HydroMT core
                  </a>
                </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/hydromt_sfincs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" class="icon-link-image" alt="GitHub"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://sfincs.readthedocs.io/" title="SFINCS" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../_static/sfincs_logo_mHv_icon.ico" class="icon-link-image" alt="SFINCS"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../_static/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/intro.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../user_guide/intro.html">
                        User guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev_guide/intro.html">
                        Developments
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://deltares.github.io/hydromt/latest/index.html">
                    HydroMT core
                  </a>
                </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/hydromt_sfincs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" class="icon-link-image" alt="GitHub"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://sfincs.readthedocs.io/" title="SFINCS" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../_static/sfincs_logo_mHv_icon.ico" class="icon-link-image" alt="SFINCS"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../_static/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/sfincs.html">Model methods and components</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../user_guide/sfincs_build_update.html">Building or update a model</a><input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../user_guide/sfincs_coastal.html">Setting up a coastal model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/sfincs_riverine.html">Setting up a riverine model</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Example: Build a coastal SFINCS model</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_riverine_model.html">Example: Build a riverine SFINCS model</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_from_py.html">Example: Build a SFINCS model from Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_model.html">Example: Update SFINCS model components</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../user_guide/process_analyze.html">Postprocessing and visualization</a><input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="sfincs_results_hmax.html">Example: Visuazize the maximum water depth</a></li>
<li class="toctree-l2"><a class="reference internal" href="sfincs_results_animation.html">Example: Create a waterdepth animation</a></li>
</ul>
</li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars and line breaks on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
    white-space: pre;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<div>
    For an interactive online version click here:
    <a href="https://mybinder.org/v2/gh/Deltares/hydromt_sfincs/main?urlpath=lab/tree/examples/build_coastal_model.ipynb" target="_blank" rel="noopener noreferrer"><img alt="Binder badge" src="https://mybinder.org/badge_logo.svg"></a>
</div></div>
<section id="Make-a-coastal-sfincs-model-from-scratch-using-hydromt">
<h1>Make a coastal sfincs model from scratch using hydromt<a class="headerlink" href="#Make-a-coastal-sfincs-model-from-scratch-using-hydromt" title="Permalink to this heading">#</a></h1>
<p>This notebook demonstrates how to prepare and inspect a SFINCS model from scratch. The notebook does not contain the SFINCS code or executables to run the model with.</p>
<p>We will make a schematization with the following features: * we only simulate coastal flooding, we do not consider any interactions with riverine flooding * we use the MERIT Hydro dataset as elevation * we include boundary conditions from the Global Tide and Surge Model by imposing a number of boundary points where forcing is expected</p>
<p>All lines in this notebook which start with <code class="docutils literal notranslate"><span class="pre">!</span></code> are executed from the command line. Within jupyter (except for jupyter lab) the logging messages are shown after completion. You can also copy these lines and paste these in your shell to get more direct feedback.</p>
<section id="HydroMT-CLI-build-interface">
<h2>HydroMT CLI build interface<a class="headerlink" href="#HydroMT-CLI-build-interface" title="Permalink to this heading">#</a></h2>
<p>First let us see what hydromt provides us with.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt --help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Usage: hydromt [OPTIONS] COMMAND [ARGS]...

  Command line interface for hydromt models.

Options:
  --version  Show the version and exit.
  --models   Print availabe model plugins and exit.
  --help     Show this message and exit.

Commands:
  build   Build models
  clip    Clip models.
  update  Update models

</pre></div></div>
</div>
<p>With the <code class="docutils literal notranslate"><span class="pre">models</span></code> flag we can ask if hydroMT recognizes the SFINCS plugin (SFINCS should be mentioned):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt --models
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
model plugins:
 - sfincs (hydromt_sfincs 0.2.2.dev0)
generic models (hydromt 0.6.1.dev):
 - grid_model
 - lumped_model
 - network_model


</pre></div></div>
</div>
<p>It looks like we have several commands that we can consider. We want to <code class="docutils literal notranslate"><span class="pre">build</span></code> a model. How does that work? We can also call <code class="docutils literal notranslate"><span class="pre">--help</span></code> on the available hydroMT commands as follows.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt build --help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Usage: hydromt build [OPTIONS] MODEL MODEL_ROOT REGION

  Build models from scratch.

  Example usage:
  --------------

  To build a wflow model for a subbasin using and point coordinates snapped to cells with stream order &gt;= 4
  hydromt build wflow /path/to/model_root &#34;{&#39;subbasin&#39;: [-7.24, 62.09], &#39;strord&#39;: 4}&#34; -i /path/to/wflow_config.ini -d deltares_data -d /path/to/data_catalog.yml -v

  To build a sfincs model based on a bbox
  hydromt build sfincs /path/to/model_root &#34;{&#39;bbox&#39;: [4.6891,52.9750,4.9576,53.1994]}&#34; -i /path/to/sfincs_config.ini -d /path/to/data_catalog.yml -v

Options:
  -r, --res FLOAT             Model resolution in model src.
  --build-base / --build-all  Deprecated!
  --opt TEXT                  Method specific keyword arguments, see the
                              method documentation of the specific model for
                              more information about the arguments.
  -i, --config PATH           Path to hydroMT configuration file, for the
                              model specific implementation.
  -d, --data TEXT             Path to local yaml data catalog file OR name of
                              predefined data catalog.
  --dd, --deltares-data       Shortcut to add the &#34;deltares_data&#34; catalog
  -q, --quiet                 Decrease verbosity.
  -v, --verbose               Increase verbosity.
  --help                      Show this message and exit.

</pre></div></div>
</div>
</section>
<section id="Building-a-first-model-(and-getting-an-error-when-data-is-missing)">
<h2>Building a first model (and getting an error when data is missing)<a class="headerlink" href="#Building-a-first-model-(and-getting-an-error-when-data-is-missing)" title="Permalink to this heading">#</a></h2>
<p>Let’s try to build an entire schematization, just from the command line (Awesome!!!). In the <code class="docutils literal notranslate"><span class="pre">--help</span></code> section, there is an example for making a model from a bounding box, which is very intuitive. Let’s try exactly that. We store the model on the local path <code class="docutils literal notranslate"><span class="pre">./texel_sfincs</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt build sfincs ./texel_sfincs <span class="s2">&quot;{&#39;bbox&#39;: [4.68,52.97,4.96,53.20]}&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2022-11-29 06:13:48,077 - build - sfincs - ERROR - depfile = sfincs.dep not found
2022-11-29 06:13:48,077 - build - sfincs - ERROR - mskfile = sfincs.msk not found
2022-11-29 06:13:48,077 - build - sfincs - ERROR - indexfile = sfincs.ind not found

</pre></div></div>
</div>
<p>The above might have taken a few seconds, but then should have miserably crashed! What happened: * HydroMT was looking for a data catalog to use. * It did not find any and therefore, it automatically downloaded a sample data catalog which you can now find on your home folder under .hydromt_data * It tried to build a model in the Texel bounding box, but…alas, the sample dataset does not cover Texel at all! To add datasets covering the area outside the sample data extent, setup your own
datasets using data yml files <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/data.html">hydroMT data</a> using <code class="docutils literal notranslate"><span class="pre">--data</span> <span class="pre">PATH</span></code> option, or if your are connected to the Deltares network <code class="docutils literal notranslate"><span class="pre">--deltares-data</span></code> flag.</p>
</section>
<section id="Building-a-first-model-(and-getting-it-right)">
<h2>Building a first model (and getting it right)<a class="headerlink" href="#Building-a-first-model-(and-getting-it-right)" title="Permalink to this heading">#</a></h2>
<p>Let’s adapt the bounding box to an area that fits within the sample dataset. The dataset covers the Piave basin and its surroundings in Italy. A good place to get a CSV formatted bounding box is <a class="reference external" href="https://boundingbox.klokantech.com/">https://boundingbox.klokantech.com/</a></p>
<p>We also add <code class="docutils literal notranslate"><span class="pre">-vv</span></code> for extra verbosity</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt build sfincs ./venice_sfincs <span class="s2">&quot;{&#39;bbox&#39;: [12.05,45.30,12.85,45.65]}&quot;</span> -vv
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2022-11-29 06:13:50,452 - build - log - DEBUG - Writing log messages to new file /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs/hydromt.log.
2022-11-29 06:13:50,452 - build - log - INFO - HydroMT version: 0.6.1.dev
2022-11-29 06:13:50,452 - build - main - INFO - Building instance of sfincs model at /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs.
2022-11-29 06:13:50,452 - build - main - INFO - User settings:
2022-11-29 06:13:50,471 - build - model_api - INFO - Initializing sfincs model from hydromt_sfincs (v0.2.2.dev0).
2022-11-29 06:13:50,472 - build - model_api - INFO - setup_region.region: {&#39;bbox&#39;: [12.05, 45.3, 12.85, 45.65]}
2022-11-29 06:13:50,472 - build - model_api - INFO - setup_region.hydrography_fn: merit_hydro
2022-11-29 06:13:50,472 - build - model_api - INFO - setup_region.basin_index_fn: merit_hydro_index
2022-11-29 06:13:50,472 - build - basin_mask - DEBUG - Parsed region (kind=bbox): {&#39;bbox&#39;: [12.05, 45.3, 12.85, 45.65]}
2022-11-29 06:13:50,478 - build - sfincs - INFO - Writing model data to /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs
2022-11-29 06:13:50,479 - build - model_api - DEBUG - Default config read from /usr/share/miniconda/envs/hydromt-sfincs/lib/python3.9/site-packages/hydromt_sfincs/data/sfincs/sfincs.inp
2022-11-29 06:13:50,479 - build - sfincs - ERROR - depfile = sfincs.dep not found
2022-11-29 06:13:50,480 - build - sfincs - ERROR - mskfile = sfincs.msk not found
2022-11-29 06:13:50,480 - build - sfincs - ERROR - indexfile = sfincs.ind not found
2022-11-29 06:13:50,480 - build - model_api - INFO - Writing model config to /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs/sfincs.inp

</pre></div></div>
</div>
<p>This should work without any errors.</p>
<p>The example above means the following: run <strong>hydromt build</strong> with:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sfincs</span></code> : i.e. build a SFINCS model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">./venice_sfincs</span></code> : output model folder</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;{'bbox':</span> <span class="pre">[12.05,45.30,12.85,45.65]}&quot;</span></code> : make a model that is active for the full given bounding box. All <em>REGION</em> options are described in the <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/cli.html#region-options">docs</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-vv</span></code> : give some extra verbosity (2 * v) to display feedback on screen. Now debug messages are provided.</p></li>
</ul>
<p>NOTE: As we did not specify a model configuration, only the model region has been setup. To build a complete model we need the use a configuration ini-file.</p>
<p>When we inspect the newly created <code class="docutils literal notranslate"><span class="pre">./venice_sfincs</span></code> folder we only find a log file and the gis folder containing the region geometry saved as geojson file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls ./venice_sfincs
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
gis  hydromt.log  sfincs.inp
</pre></div></div>
</div>
</section>
<section id="Building-a-complete-model-(ready-to-run)">
<h2>Building a complete model (ready to run)<a class="headerlink" href="#Building-a-complete-model-(ready-to-run)" title="Permalink to this heading">#</a></h2>
<p>We can provide many more settings in an configuration (.ini) file instead of command line arguments. If you don’t provide an ini file (as done above), only the model region is determined. To complete your model you can add more <a class="reference external" href="https://deltares.github.io/hydromt_sfincs/latest/user_guide/sfincs.html">model components</a> to the model setup.</p>
<p>Let’s have a look a typical ini file for setting up coastal SFINCS model, where each <code class="docutils literal notranslate"><span class="pre">[setup_&lt;&gt;]</span></code> refers to a model component. All options which end with <code class="docutils literal notranslate"><span class="pre">_fn</span></code> refers to a data source from the data catalog or a path to data on your machine, see <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/data.html">hydroMT data</a>. In this case some sample data which is downloaded to your machine at <code class="docutils literal notranslate"><span class="pre">$USER_ROOT/.hydromt_data</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fn_ini</span> <span class="o">=</span> <span class="s2">&quot;sfincs_coastal.ini&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fn_ini</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[setup_config]
tref = 20100201 000000
tstart = 20100201 000000
tstop = 20100210 000000
alpha = 0.5
zsini = 0.5

[setup_topobathy]
topobathy_fn = merit_hydro       # topobathy basemaps [&#39;elevtn&#39;]
crs = utm                       # model CRS (must be UTM zone)

[setup_merge_topobathy]
topobathy_fn = gebco            # bathymetry [&#39;elevtn&#39;]
mask_fn = osm_coastlines        # sea polygon describing where we want to use the new data
offset_fn = dtu10mdt_egm96      # mean dynamic topography to account for the difference in vertical datum between the current and new data
merge_method = first            # use valid new data where the current data has invalid (nodata) values
merge_buffer = 2                # buffer (cells) between elevation and bathymetry data filled with &#39;linear&#39; interpolation

[setup_mask]
elv_min = -5                    # minimum elevation for valid cells

[setup_cn_infiltration]
cn_fn = gcn250                  # curve number source
antecedent_runoff_conditions = avg # for gcn250: {&#39;dry&#39;, &#39;avg&#39;, &#39;wet&#39;}

[setup_manning_roughness]
lulc_fn = vito                  # land-use land-cover source
map_fn = None                   # mapping file. read from hydromt/data/lulc/{lulc_fn}_mapping.csv if None

[setup_bounds]
btype = waterlevel              # boundary type [&#39;waterlevel&#39;, &#39;outflow&#39;]
mask_fn = osm_coastlines        # sea polygon

[setup_h_forcing]
geodataset_fn = data/gtsm_locations.csv  # waterlevel gauge locations
timeseries_fn = data/gtsm_timeseries.csv  # waterlevel time series
buffer = 1e4                    # buffer around model region to select gauges

[setup_p_forcing_from_grid]
precip_fn = era5_hourly         # gridded precipitation data [&#39;precip&#39;]
dst_res = None                  # output resolution (m)
aggregate = True                # if True return the aggregated mean as spatially uniform precip
</pre></div></div>
</div>
<p>You can see the following sections:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_config]</span></code>: arguments which are forwarded to the SFINCS model configuration file sfincs.inp</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_topobathy]</span></code>: basic information required for the model domain grid and elevation. These are the minimal demanded static layers that any SFINCS model needs. Here you may for instance consider altering the elevation and bathymetry data for local data sources. These then have to be supplied in the <code class="docutils literal notranslate"><span class="pre">data_catalog.yml</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_merge_topobathy]</span></code>: add additional data source for bathymetry data to merge with the basemap elevation data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_mask]</span></code>: set valid model cells based on the topobathy data and a minimal depth boundary (more options available).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_cn_infiltration]</span></code>: potential maximum soil retention maps to be used in the curve number method, see <a class="reference external" href="https://sfincs.readthedocs.io/en/latest/input.html?highlight=curve#spatially-varying-curve-number">SFINCS docs</a> for more information</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_manning_roughness]</span></code>: configuration of the Manning roughness values, typically consisting of a land use or land cover map, and a lookup table that relates land use classes to manning roughness values in sec m<span class="math notranslate nohighlight">\(^{-1/3}\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_bounds]</span></code>: set cells at the model domain edge and within the sea polygon to waterlevel boundary cells.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_h_forcing]</span></code>: water level forcing data. This can be provided from a set of csv files, see data_sources.yml, but also netcdf files, see <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/data.html">hydroMT docs</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[setup_p_forcing_from_grid]</span></code>: gridded precipitation data, that can be used to do compound flood simulations. The <code class="docutils literal notranslate"><span class="pre">[setup_cn_infiltration]</span></code> is then quite essential to include.</p></li>
</ul>
<p>To build a model from scratch add the ini file to the command line <code class="docutils literal notranslate"><span class="pre">hydromt</span> <span class="pre">build</span></code> method at a 150 m resolution.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt build sfincs ./venice_sfincs_150 <span class="s2">&quot;{&#39;bbox&#39;: [12.05,45.30,12.85,45.65]}&quot;</span> -r <span class="m">150</span> -i sfincs_coastal.ini -vv
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2022-11-29 06:13:53,040 - build - log - DEBUG - Writing log messages to new file /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs_150/hydromt.log.
2022-11-29 06:13:53,040 - build - log - INFO - HydroMT version: 0.6.1.dev
2022-11-29 06:13:53,040 - build - main - INFO - Building instance of sfincs model at /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs_150.
2022-11-29 06:13:53,040 - build - main - INFO - User settings:
2022-11-29 06:13:53,072 - build - model_api - INFO - Initializing sfincs model from hydromt_sfincs (v0.2.2.dev0).
2022-11-29 06:13:53,072 - build - model_api - INFO - setup_region.region: {&#39;bbox&#39;: [12.05, 45.3, 12.85, 45.65]}
2022-11-29 06:13:53,072 - build - model_api - INFO - setup_region.hydrography_fn: merit_hydro
2022-11-29 06:13:53,072 - build - model_api - INFO - setup_region.basin_index_fn: merit_hydro_index
2022-11-29 06:13:53,072 - build - basin_mask - DEBUG - Parsed region (kind=bbox): {&#39;bbox&#39;: [12.05, 45.3, 12.85, 45.65]}
2022-11-29 06:13:53,079 - build - model_api - DEBUG - Setting model config options.
2022-11-29 06:13:53,081 - build - model_api - DEBUG - Default config read from /usr/share/miniconda/envs/hydromt-sfincs/lib/python3.9/site-packages/hydromt_sfincs/data/sfincs/sfincs.inp
2022-11-29 06:13:53,081 - build - model_api - INFO - setup_topobathy.topobathy_fn: merit_hydro
2022-11-29 06:13:53,081 - build - model_api - INFO - setup_topobathy.res: 150.0
2022-11-29 06:13:53,081 - build - model_api - INFO - setup_topobathy.crs: utm
2022-11-29 06:13:53,081 - build - model_api - INFO - setup_topobathy.reproj_method: bilinear
2022-11-29 06:13:53,148 - build - data_catalog - INFO - Reading data catalog artifact_data v0.0.6 from archive
2022-11-29 06:13:53,474 - build - data_catalog - INFO - Downloading data archive file to /home/runner/.hydromt_data/artifact_data/v0.0.6/data.tar.gz
2022-11-29 06:13:53,747 - build - data_catalog - DEBUG - Unpacking data from /home/runner/.hydromt_data/artifact_data/v0.0.6/data.tar.gz
2022-11-29 06:13:54,864 - build - data_catalog - INFO - Parsing data catalog from /home/runner/.hydromt_data/artifact_data/v0.0.6/data_catalog.yml
2022-11-29 06:13:54,954 - build - data_catalog - INFO - DataCatalog: Getting merit_hydro RasterDataset raster data from /home/runner/.hydromt_data/artifact_data/v0.0.6/merit_hydro/{variable}.tif
2022-11-29 06:13:55,026 - build - rasterdataset - DEBUG - RasterDataset: Clip with geom - [12.032, 45.282, 12.863, 45.668]
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.topobathy_fn: gebco
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.elv_min: None
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.elv_max: None
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.mask_fn: osm_coastlines
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.max_width: 0
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.offset_fn: dtu10mdt_egm96
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.offset_constant: 0
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.merge_buffer: 2
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.merge_method: first
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.reproj_method: bilinear
2022-11-29 06:13:55,125 - build - model_api - INFO - setup_merge_topobathy.interp_method: linear
2022-11-29 06:13:55,131 - build - data_catalog - INFO - DataCatalog: Getting gebco RasterDataset raster data from /home/runner/.hydromt_data/artifact_data/v0.0.6/gebco.tif
2022-11-29 06:13:55,161 - build - rasterdataset - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.862, 45.667]
2022-11-29 06:13:55,185 - build - data_catalog - INFO - DataCatalog: Getting osm_coastlines GeoDataFrame vector data from /home/runner/.hydromt_data/artifact_data/v0.0.6/osm_coastlines.gpkg
2022-11-29 06:13:55,185 - build - geodataframe - INFO - GeoDataFrame: Read vector data.
2022-11-29 06:13:55,258 - build - data_catalog - INFO - DataCatalog: Getting dtu10mdt_egm96 RasterDataset raster data from /home/runner/.hydromt_data/artifact_data/v0.0.6/dtu10mdt_egm96.tif
2022-11-29 06:13:55,281 - build - rasterdataset - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.862, 45.667]
2022-11-29 06:13:55,807 - build - bathymetry - DEBUG - Interpolate topobathy at 1075 cells
2022-11-29 06:13:55,917 - build - model_api - WARNING - Replacing staticmap: dep
2022-11-29 06:13:55,919 - build - model_api - INFO - setup_mask.mask_fn: None
2022-11-29 06:13:55,920 - build - model_api - INFO - setup_mask.include_mask_fn: None
2022-11-29 06:13:55,920 - build - model_api - INFO - setup_mask.exclude_mask_fn: None
2022-11-29 06:13:55,920 - build - model_api - INFO - setup_mask.elv_min: -5
2022-11-29 06:13:55,920 - build - model_api - INFO - setup_mask.elv_max: None
2022-11-29 06:13:55,920 - build - model_api - INFO - setup_mask.fill_area: 10
2022-11-29 06:13:55,920 - build - model_api - INFO - setup_mask.drop_area: 0
2022-11-29 06:13:55,920 - build - model_api - INFO - setup_mask.connectivity: 8
2022-11-29 06:13:55,921 - build - model_api - INFO - setup_mask.all_touched: True
2022-11-29 06:13:55,921 - build - model_api - INFO - setup_mask.reset_mask: False
2022-11-29 06:13:55,942 - build - utils - DEBUG - 0 gaps outside valid elevation range &lt; 10 km2.
2022-11-29 06:13:55,944 - build - sfincs - DEBUG - Mask with 79345 active cells set; updating staticmaps ...
2022-11-29 06:13:55,955 - build - model_api - WARNING - Replacing staticmap: msk
2022-11-29 06:13:55,957 - build - sfincs - DEBUG - Derive region geometry based on active cells.
2022-11-29 06:13:55,969 - build - model_api - WARNING - Replacing geom: region
2022-11-29 06:13:55,970 - build - model_api - INFO - setup_cn_infiltration.cn_fn: gcn250
2022-11-29 06:13:55,970 - build - model_api - INFO - setup_cn_infiltration.antecedent_runoff_conditions: avg
2022-11-29 06:13:55,971 - build - data_catalog - INFO - DataCatalog: Getting gcn250 RasterDataset raster data from /home/runner/.hydromt_data/artifact_data/v0.0.6/gcn250/{variable}.tif
2022-11-29 06:13:56,000 - build - rasterdataset - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.852, 45.667]
2022-11-29 06:13:56,077 - build - model_api - INFO - setup_manning_roughness.lulc_fn: vito
2022-11-29 06:13:56,077 - build - model_api - INFO - setup_manning_roughness.map_fn: None
2022-11-29 06:13:56,077 - build - model_api - INFO - setup_manning_roughness.riv_man: 0.03
2022-11-29 06:13:56,077 - build - model_api - INFO - setup_manning_roughness.lnd_man: 0.1
2022-11-29 06:13:56,077 - build - model_api - INFO - setup_manning_roughness.sea_man: None
2022-11-29 06:13:56,079 - build - data_catalog - INFO - DataCatalog: Getting vito RasterDataset raster data from /home/runner/.hydromt_data/artifact_data/v0.0.6/vito.tif
2022-11-29 06:13:56,107 - build - rasterdataset - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.852, 45.667]
2022-11-29 06:13:56,143 - build - landuse - INFO - Deriving N using average resampling (nodata=-999.0).
2022-11-29 06:13:56,245 - build - model_api - INFO - setup_bounds.btype: waterlevel
2022-11-29 06:13:56,246 - build - model_api - INFO - setup_bounds.mask_fn: osm_coastlines
2022-11-29 06:13:56,246 - build - model_api - INFO - setup_bounds.include_mask_fn: None
2022-11-29 06:13:56,246 - build - model_api - INFO - setup_bounds.exclude_mask_fn: None
2022-11-29 06:13:56,246 - build - model_api - INFO - setup_bounds.elv_min: None
2022-11-29 06:13:56,246 - build - model_api - INFO - setup_bounds.elv_max: None
2022-11-29 06:13:56,246 - build - model_api - INFO - setup_bounds.mask_buffer: 0
2022-11-29 06:13:56,246 - build - model_api - INFO - setup_bounds.connectivity: 8
2022-11-29 06:13:56,246 - build - model_api - INFO - setup_bounds.reset_bounds: False
2022-11-29 06:13:56,253 - build - data_catalog - INFO - DataCatalog: Getting osm_coastlines GeoDataFrame vector data from /home/runner/.hydromt_data/artifact_data/v0.0.6/osm_coastlines.gpkg
2022-11-29 06:13:56,257 - build - geodataframe - INFO - GeoDataFrame: Read vector data and clip to bbox (epsg:4326) [12.031, 45.282, 12.852, 45.667].
2022-11-29 06:13:56,295 - build - model_api - WARNING - Replacing staticmap: msk
2022-11-29 06:13:56,297 - build - sfincs - DEBUG - 510 waterlevel (mask=2) boundary cells set.
2022-11-29 06:13:56,297 - build - model_api - INFO - setup_h_forcing.geodataset_fn: /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/data/gtsm_locations.csv
2022-11-29 06:13:56,297 - build - model_api - INFO - setup_h_forcing.timeseries_fn: /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/data/gtsm_timeseries.csv
2022-11-29 06:13:56,297 - build - model_api - INFO - setup_h_forcing.offset_fn: None
2022-11-29 06:13:56,297 - build - model_api - INFO - setup_h_forcing.buffer: 10000.0
2022-11-29 06:13:56,311 - build - data_catalog - INFO - DataCatalog: Getting gtsm_locations GeoDataset vector data from /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/data/gtsm_locations.csv
2022-11-29 06:13:56,736 - build - geodataset - INFO - GeoDataset: Read vector data and clip to geom (epsg:32633) [278900.000, 5008550.000, 342400.000, 5059900.000].
2022-11-29 06:13:56,764 - build - geodataset - DEBUG - GeoDataset: Slicing time dim (datetime.datetime(2010, 2, 1, 0, 0), datetime.datetime(2010, 2, 10, 0, 0))
2022-11-29 06:13:56,772 - build - sfincs - DEBUG - waterlevel forcing: setting bnd data for 6 points.
2022-11-29 06:13:56,773 - build - sfincs - DEBUG - waterlevel forcing: setting bzs data.
2022-11-29 06:13:56,773 - build - model_api - INFO - setup_p_forcing_from_grid.precip_fn: era5_hourly
2022-11-29 06:13:56,773 - build - model_api - INFO - setup_p_forcing_from_grid.dst_res: None
2022-11-29 06:13:56,773 - build - model_api - INFO - setup_p_forcing_from_grid.aggregate: True
2022-11-29 06:13:56,774 - build - data_catalog - INFO - DataCatalog: Getting era5_hourly RasterDataset netcdf data from /home/runner/.hydromt_data/artifact_data/v0.0.6/era5_hourly.nc
2022-11-29 06:13:56,794 - build - rasterdataset - DEBUG - RasterDataset: Slicing time dim (datetime.datetime(2010, 2, 1, 0, 0), datetime.datetime(2010, 2, 10, 0, 0))
2022-11-29 06:13:56,804 - build - rasterdataset - DEBUG - RasterDataset: Clip with geom - [12.031, 45.282, 12.852, 45.667]
2022-11-29 06:13:56,828 - build - rasterdataset - DEBUG - RasterDataset: Convert units for 1 variables.
2022-11-29 06:13:56,838 - build - sfincs - DEBUG - Aggregate precip using mean.
2022-11-29 06:13:56,894 - build - sfincs - INFO - Writing model data to /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs_150
2022-11-29 06:13:56,941 - build - sfincs - DEBUG - Write binary map indices based on mask.
2022-11-29 06:13:56,943 - build - sfincs - DEBUG - Write binary map files: [&#39;dep&#39;, &#39;msk&#39;, &#39;scs&#39;, &#39;manning&#39;].
2022-11-29 06:13:56,983 - build - sfincs - INFO - Write raster file(s) for staticmaps to &#39;gis&#39; subfolder
2022-11-29 06:13:57,084 - build - sfincs - INFO - Write forcing files
2022-11-29 06:13:57,105 - build - sfincs - INFO - Write vector file(s) for forcing.bzs to &#39;gis&#39; subfolder
2022-11-29 06:13:57,122 - build - model_api - INFO - Writing model config to /home/runner/work/hydromt_sfincs/hydromt_sfincs/docs/_examples/venice_sfincs_150/sfincs.inp

</pre></div></div>
</div>
<p>Let’s inspect the output folder. Notice that several SFINCS files have been written.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls ./venice_sfincs_150
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
gis               sfincs.bnd  sfincs.ind  sfincs.msk
hydromt.log       sfincs.bzs  sfincs.inp  sfincs.precip
hydromt_data.yml  sfincs.dep  sfincs.man  sfincs.scs
</pre></div></div>
</div>
<p>One of the files is the SFINCS input file which defines the model, lets have a look:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fn_inp</span> <span class="o">=</span> <span class="s2">&quot;./venice_sfincs_150/sfincs.inp&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fn_inp</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
mmax            = 425
nmax            = 272
dx              = 150.0
dy              = 150.0
x0              = 268650.0
y0              = 5018550.0
rotation        = 0
epsg            = 32633
inputformat     = bin
outputformat    = net
tref            = 20100201 000000
tstart          = 20100201 000000
tstop           = 20100210 000000
dtout           = 3600
dthisout        = 600
dtmaxout        = 86400
advection       = 0
alpha           = 0.5
huthresh        = 0.05
theta           = 0.9
min_lev_hmax    = -1
zsini           = 0.5
depfile         = sfincs.dep
mskfile         = sfincs.msk
indexfile       = sfincs.ind
scsfile         = sfincs.scs
manningfile     = sfincs.man
precipfile      = sfincs.precip
bzsfile         = sfincs.bzs
bndfile         = sfincs.bnd


</pre></div></div>
</div>
</section>
<section id="Inspecting-the-model">
<h2>Inspecting the model<a class="headerlink" href="#Inspecting-the-model" title="Permalink to this heading">#</a></h2>
<p>Let’s have a closer look at the model. To interact with a model within a notebook or python script, we need to load a number of modules.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">hydromt_sfincs</span> <span class="kn">import</span> <span class="n">SfincsModel</span>
</pre></div>
</div>
</div>
<p>Now we can load the model in memory and inspect it.</p>
<p>Note that based on the global datasets the lagoon bathymetry is not well represented. A better merge between MERIT hydro topography and GEBCO bathymetry can be achieved by providing an better coastline shapefile (by default OSM based) which together with the merge_method argument determines which dataset is used where.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define the model&#39;s configuration file</span>
<span class="n">root</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;./venice_sfincs_150&quot;</span>

<span class="c1"># read the model with hydromt methods</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">SfincsModel</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="n">mod</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">mod</span><span class="o">.</span><span class="n">plot_basemap</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">shaded</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&lt;Figure size 1300x700 with 2 Axes&gt;,
 &lt;GeoAxesSubplot:title={&#39;center&#39;:&#39;SFINCS dep map&#39;}, xlabel=&#39;x coordinate UTM zone 33N [m]&#39;, ylabel=&#39;y coordinate UTM zone 33N [m]&#39;&gt;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/_examples_build_coastal_model_30_1.png" src="../_images/_examples_build_coastal_model_30_1.png" />
</div>
</div>
</section>
<section id="Next-steps">
<h2>Next steps<a class="headerlink" href="#Next-steps" title="Permalink to this heading">#</a></h2>
<p>You can update an existing model, e.g. to replace model layers or add forcing. this is described in a follow-up notebook <code class="docutils literal notranslate"><span class="pre">sfincs_update_model.ipynb</span></code></p>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="../user_guide/sfincs_riverine.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Setting up a riverine model</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="build_riverine_model.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Build a riverine SFINCS model from scratch</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#HydroMT-CLI-build-interface">
   HydroMT CLI build interface
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Building-a-first-model-(and-getting-an-error-when-data-is-missing)">
   Building a first model (and getting an error when data is missing)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Building-a-first-model-(and-getting-it-right)">
   Building a first model (and getting it right)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Building-a-complete-model-(ready-to-run)">
   Building a complete model (ready to run)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Inspecting-the-model">
   Inspecting the model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Next-steps">
   Next steps
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="../_sources/_examples/build_coastal_model.ipynb.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright Deltares.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="theme-version">
    Built with the
    <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">
        PyData Sphinx Theme
    </a>
    0.12.0.
</p>
  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>